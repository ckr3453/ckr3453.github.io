---
title: "JPA) ê°ì²´ì§€í–¥ ì¿¼ë¦¬ ì–¸ì–´ - ê°œìš”"
categories: 
    - java
date: 2022-11-08
last_modified_at: 2022-11-10
# tags:
#     - íƒœê·¸1
#     - íƒœê·¸2
#     - tag_test..
toc: true
toc_sticky: true
# toc_label: "MYSELF"
excerpt: "ê°ì²´ì§€í–¥ ì¿¼ë¦¬ ì–¸ì–´ì— ëŒ€í•œ ì†Œê°œ"
---

JPAëŠ” ë‹¤ìŒê³¼ ê°™ì´ ë‹¤ì–‘í•œ ì¿¼ë¦¬ ë°©ë²•ì„ ì§€ì›í•œë‹¤.

- JPQL
  - JPAì˜ ê°ì²´ì§€í–¥ ì¿¼ë¦¬ ì–¸ì–´ë¡œ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì˜ ì—”í‹°í‹°ì— ëŒ€í•œ ì¿¼ë¦¬ë¥¼ ë§Œë“œëŠ”ë° ì‚¬ìš©ëœë‹¤.
- JPA Criteria
  - JPQLì„ ìë°” ì½”ë“œë¡œ ì‘ì„±í•˜ë„ë¡ ë„ì™€ì£¼ëŠ” ë¹Œë” í´ë˜ìŠ¤ API
- QueryDSL
  - JPA Criteriaì™€ ë§ˆì°¬ê°€ì§€ë¡œ JPQLì„ ìë°” ì½”ë“œë¡œ ì‘ì„±í• ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ëŠ” ì˜¤í”ˆì†ŒìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬
- Native SQL
  - ë°ì´í„°ë² ì´ìŠ¤ í‘œì¤€ ë¬¸ë²•ì—ì„œ ë²—ì–´ë‚œ ì¢…ì†ì ì¸ ì¿¼ë¦¬ê°€ í•„ìš”í•  ë•Œ ì‚¬ìš©
  - ì˜ˆ) Oracleì˜ connect by, partition by ë“±
- JDBC API, MyBatis, SpringJdbcTemplate,..


ê° ì¿¼ë¦¬ ë°©ë²•ì— ëŒ€í•œ ê°„ëµí•œ ì†Œê°œì™€ ì‚¬ìš© ì˜ˆë¥¼ ì•Œì•„ë³´ì.

## JPQL ì†Œê°œ

ì§€ê¸ˆê¹Œì§€ ìš°ë¦¬ëŠ” ì—”í‹°í‹°ë¥¼ ì¡°íšŒí•  ë•Œ ë‹¤ìŒê³¼ ê°™ì´ ì¡°ê±´ì´ ì—†ëŠ”, ê°€ì¥ ë‹¨ìˆœí•œ ë°©ë²•ì„ ì‚¬ìš©í–ˆë‹¤.

- ì—”í‹°í‹°ë§¤ë‹ˆì € í™œìš©
  - `entityManager.find()`
- ê°ì²´ ê·¸ë˜í”„ íƒìƒ‰
  - `entity.getA().getB()`

ê·¸ë ‡ë‹¤ë©´ `ë‚˜ì´ê°€ 18ì‚´ ì´ìƒ`ì¸ íšŒì›ì„ ëª¨ë‘ ê²€ìƒ‰ê³¼ ê°™ì€ ì¡°ê±´ìœ¼ë¡œ ê²€ìƒ‰í•  ë•ŒëŠ” ì–´ë–»ê²Œ í•´ì•¼ë ê¹Œ?

ë°ì´í„°ì–‘ì´ ë§ì„ ê²½ìš° ìœ„ì˜ ë‘ê°€ì§€ ë°©ì‹ë§Œìœ¼ë¡œëŠ” í•œê³„ê°€ ìˆì„ ê²ƒì´ë‹¤.

JPAë¥¼ ì‚¬ìš©í•˜ë©´ ì—”í‹°í‹° ê°ì²´ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ê°œë°œí•´ì•¼ í•œë‹¤. (í…Œì´ë¸”ì€ ë§¤í•‘ë§Œ í•  ë¿ì´ë‹¤.)

ê²€ìƒ‰ì„ í• ë•Œë„ í…Œì´ë¸”ì´ ì•„ë‹Œ ì—”í‹°í‹° ê°ì²´ë¥¼ ëŒ€ìƒìœ¼ë¡œ ê²€ìƒ‰ì„ í•´ì•¼í•œë‹¤. ê·¸ëŸ¬ë‚˜ ëª¨ë“  DB ë°ì´í„°ë¥¼ ê°ì²´ë¡œ ë³€í™˜í•´ì„œ ê²€ìƒ‰í•˜ëŠ” ê²ƒì€ ë¶ˆê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì— **DBë¡œë¶€í„° í•„ìš”í•œ ë°ì´í„°ë§Œì„ ê°€ì ¸ì˜¤ë ¤ë©´ ê²€ìƒ‰ì¡°ê±´ì´ í¬í•¨ëœ SQLì´ í•„ìš”**í•˜ë‹¤.
(ëª¨ë“  DB ë°ì´í„°ë¥¼ ë“¤ê³ ì˜¤ê²Œë˜ë©´ ê³¼ë„í•œ ë„¤íŠ¸ì›Œí¬ ë¹„ìš© ë° í¼í¬ë¨¼ìŠ¤ ì´ìŠˆê°€ ë°œìƒí•˜ê¸° ë•Œë¬¸)

ê·¸ë˜ì„œ JPAëŠ” **SQLì„ ì¶”ìƒí™”í•œ JPQLì´ë¼ëŠ” ê°ì²´ ì§€í–¥ ì¿¼ë¦¬ ì–¸ì–´ë¥¼ ì œê³µ**í•œë‹¤.

JPQLì€ ë‹¤ìŒê³¼ ê°™ì€ íŠ¹ì§•ì„ ì§€ë‹Œë‹¤.

- SQL ë¬¸ë²•ê³¼ ìœ ì‚¬í•˜ë©° ANSI í‘œì¤€ ë¬¸ë²•ì¸ `SELECT`, `FROM`, `WHERE`, `GROUP BY`, `HAVING`, `JOIN`ì„ ì§€ì›í•œë‹¤.
- í…Œì´ë¸”ì´ ì•„ë‹Œ ì—”í‹°í‹° ê°ì²´ë¥¼ ëŒ€ìƒìœ¼ë¡œ ì¿¼ë¦¬ë¥¼ ìˆ˜í–‰í•˜ëŠ” ê°ì²´ ì§€í–¥ ì¿¼ë¦¬ì´ë‹¤.
  - SQLì„ ì¶”ìƒí™”í•˜ê¸° ë•Œë¬¸ì— íŠ¹ì • ë°ì´í„°ë² ì´ìŠ¤ SQLì— ì˜ì¡´í•˜ì§€ ì•ŠëŠ”ë‹¤.
  - ë°ì´í„°ë² ì´ìŠ¤ì— ë§ëŠ” SQL ë¬¸ë²•ìœ¼ë¡œ ë²ˆì—­ì´ ë˜ì–´ ì‹¤ì œ í…Œì´ë¸”ì— ì ìš©ëœë‹¤.


## JPQL ì‚¬ìš© ì˜ˆ

ì‚¬ìš© ë°©ë²•ì€ ê°„ë‹¨í•˜ë‹¤. ë‹¤ìŒê³¼ ê°™ì´ `entityManager`ê°€ ì œê³µí•˜ëŠ” `createQuery`ë¥¼ ì‚¬ìš©í•œë‹¤.

`createQuery()`ëŠ” ì—”í‹°í‹°ë¥¼ ëŒ€ìƒìœ¼ë¡œ ì¿¼ë¦¬ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆê²Œ ë„ì™€ì¤€ë‹¤.

jpqlë¬¸ì„ ì‘ì„±í•  ë•ŒëŠ” ë‹¤ìŒê³¼ ê°™ì€ ê·œì¹™ì´ ìˆë‹¤.

- ì—”í‹°í‹°ì™€ ì—”í‹°í‹°ì˜ ì†ì„±ì€ ëŒ€ì†Œë¬¸ìë¥¼ êµ¬ë¶„í•œë‹¤.
- `SELECT`, `FROM`, `JOIN` ì™€ ê°™ì€ JPQL í‚¤ì›Œë“œëŠ” ëŒ€ì†Œë¬¸ì êµ¬ë¶„ì„ í•˜ì§€ ì•ŠëŠ”ë‹¤.
- alias(ë³„ì¹­)ì€ í•„ìˆ˜ë¡œ ì‘ì„±í•´ì•¼ í•˜ê³  asëŠ” ìƒëµ ê°€ëŠ¥í•˜ë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ ì´ë¦„ì´ í™ê¸¸ë™ì´ë©° ë‚˜ì´ëŠ” 18ì‚´ ì´ìƒì¸ Member ì—”í‹°í‹°ë¥¼ ì¡°íšŒí•  ë•ŒëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í•œë‹¤.

```java
@Entity
public class Member {
  @Id
  @GeneratedValue
  private Long id;

  private String name;

  private Integer age;
}

...


// Member ì—”í‹°í‹°ë¥¼ ëŒ€ìƒìœ¼ë¡œ jpqlë¬¸ì„ ì‘ì„±í•œë‹¤. 
String jpql = "select m from Member m where m.name ='í™ê¸¸ë™' and m.age >= 18 ";

//createQueryì˜ ì²«ë²ˆì¨° ì¸ìëŠ” jpql ë¬¸ìì—´ì´ ë“¤ì–´ê°€ê³  ë‘ë²ˆì§¸ ì¸ìëŠ” ëŒ€ìƒ ì—”í‹°í‹° í´ë˜ìŠ¤ ê°ì²´ë¥¼ ë„£ì–´ì„œ ê²°ê³¼ íƒ€ì…ì„ ì •í•´ì¤€ë‹¤.
List<Member> result = entityManager.createQuery(jpql, Member.class).getResultList();
```

ì‹¤ì œ sqlë¬¸ì€ ë‹¤ìŒê³¼ ê°™ì´ ë²ˆì—­ë˜ì–´ í…Œì´ë¸”ì— ë‚ ë¦°ë‹¤.

```sql
select
  m.id as id,
  m.age as age,
  m.name as name
from
  Member m
where
  m.age >= 18
```

## JPA Criteria ì†Œê°œ

JPQLì˜ ê²½ìš° ì¿¼ë¦¬ë¥¼ ë¬¸ìì—´ë¡œ ì‘ì„±í•´ì•¼í•˜ê¸° ë•Œë¬¸ì— ë™ì ìœ¼ë¡œ ì‘ì„±í•˜ë ¤ë©´ ë¬¸ìì—´ì„ ìë¥´ê³  ë¶™ì´ëŠ” ì‘ì—…ì´ ë™ë°˜ë˜ì–´ ë§¤ìš° ì§€ì €ë¶„í•´ì§€ê³  ë³µì¡í•´ì§„ë‹¤. 

JPQLì˜ ë™ì ì¿¼ë¦¬ ì˜ˆ) 

```java
String jpql = "select m from Member m";

if(username != null){
  String where = " where m.name = '" + username + "'"; // aliasì™€ where ì ˆì„ ë–¨ì–´ëœ¨ë ¤ì•¼ í•˜ê¸° ë•Œë¬¸ì— ì•ë¶€ë¶„ ê³µë°±ë„ ì‹ ê²½ì¨ì•¼í•œë‹¤.
  jpql += where; 
}

List<Member> result = entityManager.createQuery(jpql, Member.class).getResultList();

```

ì´ëŸ¬í•œ ë‹¨ì ì„ ë³´ì™„í•˜ê¸° ìœ„í•´ Criteriaê°€ ë“±ì¥í–ˆë‹¤. 

CriteriaëŠ” ë‹¤ìŒê³¼ ê°™ì€ íŠ¹ì§•ì„ ê°€ì§„ë‹¤.

- ë¬¸ìì—´ì´ ì•„ë‹Œ ìë°” ì½”ë“œë¡œ JPQL ì¿¼ë¦¬ë¥¼ ì‘ì„±í•œë‹¤.
- ë™ì  ì¿¼ë¦¬ë¥¼ ì‘ì„±í•˜ê¸° ìœ„í•œ ë©”ì„œë“œë¥¼ ì œê³µí•œë‹¤.
- ìë°” ì½”ë“œë¡œ ì‘ì„±í•˜ê¸° ë•Œë¬¸ì— ì»´íŒŒì¼ ì‹œì ì— ë¬¸ë²• ì˜¤ë¥˜ë¥¼ ì°¾ì„ ìˆ˜ ìˆë‹¤.
- ê·¸ëŸ¬ë‚˜ `SELECT`, `FROM` ë“±ê³¼ ê°™ì€ í‚¤ì›Œë“œê¹Œì§€ í•˜ë‚˜í•˜ë‚˜ ë©”ì„œë“œë¡œ ì‘ì„±í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ê°€ë…ì„±ì´ ë–¨ì–´ì§€ë©° ë³µì¡í•˜ë‹¤.
  - ì¿¼ë¦¬ ë³µì¡ë„ê°€ ì¦ê°€í• ìˆ˜ë¡ **ì½”ë“œ ë˜í•œ ë³µì¡í•´ì§€ë©° ìœ ì§€ë³´ìˆ˜ê°€ í˜ë“  í˜•íƒœ**ê°€ ë¨
  - ê·¸ëŸ¬ë¯€ë¡œ **ì‹¤ë¬´ì—ì„œ ì‚¬ìš©ì„ ê¶Œì¥í•˜ì§€ ì•ŠìŒ**

### JPA Criteria ì‚¬ìš© ì˜ˆ

CriteriaëŠ” `CriteriaBuilder`, `CriteriaQuery` ê°ì²´ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ì¿¼ë¦¬ë¥¼ ë™ì ìœ¼ë¡œ ìƒì„±í•  ìˆ˜ ìˆëŠ” í™˜ê²½ì„ êµ¬ì„±í•  ìˆ˜ ìˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ ì´ë¦„ì´ í™ê¸¸ë™ì¸ Member ì—”í‹°í‹°ë¥¼ ì¡°íšŒí•  ë•ŒëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í•œë‹¤.

```java
// Criteria ì‚¬ìš©ì„ ìœ„í•´ CriteriaBuilder, CriteriaQuery ê°ì²´ ìƒì„±
CriteriaBuilder cb = entityManager.getCriteriaBuilder();
CriteriaQuery<Member> query = cb.createQuery(Member.class);

// ë©”ì„œë“œê°€ ì „ì²´ì ìœ¼ë¡œ ë™ì  ì¿¼ë¦¬ì— ìœ ë¦¬í•˜ê²Œ êµ¬ì„±ë¨
// ì—”í‹°í‹° ì¡°íšŒë¥¼ ìœ„í•´ Root ê°ì²´ë¥¼ ìƒì„± (select m from Member m)
Root<Member> member = query.from(Member.class);

// select(), where() ë©”ì„œë“œ ì¡°í•©ì„ í†µí•´ ìµœì¢… ì¿¼ë¦¬ë¥¼ ìƒì„±í•¨.
// ì´ë¦„ì´ í™ê¸¸ë™ì¸ Memberë¥¼ ì „ë¶€ ê²€ìƒ‰í•˜ëŠ” ì¿¼ë¦¬ ìƒì„± (select m from Member where m.name = 'í™ê¸¸ë™')
CriteriaQuery<Member> resultQuery = query.select(member).where(cb.equal(member.get("name"), "í™ê¸¸ë™"));

List<Member> resultList = entityManager.createQuery(resultQuery).getResultList();
```

ì´ì™¸ì—ë„ ì¡°ê±´ì—ë”°ë¼ `CriteriaQuery.groupBy()`, `CriteriaQuery.orderBy()` ë“±ì„ ì‚¬ìš©í•˜ì—¬ ì¿¼ë¦¬ë¥¼ êµ¬ì„±í•  ìˆ˜ ìˆê³  

`CriteriaBuilder.max()`, `CriteriaBuilder.min()`, `CriteriaBuilder.greaterThan()` ë“± ì¿¼ë¦¬ ì¡°ê±´ì— ë“¤ì–´ê°€ëŠ” ê°’ë“¤ì„ ê°ì²´ë¡œ ë§Œë“¤ì–´ ì‰½ê²Œ ë™ì  ì¿¼ë¦¬ë¥¼ êµ¬ì„±í•  ìˆ˜ ìˆë‹¤.

ìì„¸í•œ ë‚´ìš©ì€ [í•˜ì´ë²„ë„¤ì´íŠ¸ ê³µì‹ë¬¸ì„œ](https://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#criteria)ë¥¼ ì°¸ê³ í•˜ì.

ë™ì  ì¿¼ë¦¬ ì‘ì„±ì„ ìœ„í•œ ìˆ˜ë§ì€ ë©”ì„œë“œë¥¼ ì œê³µí•˜ì§€ë§Œ **ì˜¤íˆë ¤ ê·¸ê²Œ ë…ì´ ë˜ì–´ ìœ ì§€ë³´ìˆ˜ê°€ ì–´ë ¤ì›Œì§€ëŠ” ë‹¨ì **ì´ ìˆë‹¤. ê·¸ë˜ì„œ ì‹¤ë¬´ì—ì„œëŠ” ì˜ ì“°ì´ì§€ ì•ŠëŠ”ë‹¤.

## QueryDSL ì†Œê°œ

JPAì—ì„œ ì œê³µí•˜ëŠ” Criteriaê°€ ë„ˆë¬´ ë³µì¡í•˜ì—¬ ê·¸ì— ëŒ€í•œ ëŒ€ì•ˆìœ¼ë¡œ ë“±ì¥í•œ ê²ƒì´ QueryDSL ì´ë‹¤.

QueryDSLì˜ íŠ¹ì§•ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.

- QueryDSLì€ ì˜¤í”ˆì†ŒìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ë‹¤.
- ì‚¬ìš©í•˜ê¸° ìœ„í•œ ì´ˆê¸° ì„¤ì • ì„¸íŒ…ì´ í•„ìš”í•˜ë‹¤.
- ë¬¸ìì—´ì´ ì•„ë‹Œ ìë°” ì½”ë“œë¡œ JPQL ì¿¼ë¦¬ë¥¼ ì‘ì„±í•œë‹¤.
- ë™ì  ì¿¼ë¦¬ë¥¼ ì‘ì„±í•˜ê¸° ìœ„í•œ ë©”ì„œë“œë¥¼ ì œê³µí•œë‹¤.
  - ìˆ˜ë§ì€ ë©”ì„œë“œ ì¡°í•©ìœ¼ë¡œ ë³µì¡í•˜ê²Œ êµ¬ì„±í•´ì•¼í–ˆë˜ Criteriaì™€ ë‹¬ë¦¬ **ì§ê´€ì ì´ë©° ë‹¨ìˆœí•œ ë©”ì„œë“œë¥¼ ì œê³µ**í•œë‹¤.
- ìë°” ì½”ë“œë¡œ ì‘ì„±í•˜ê¸° ë•Œë¬¸ì— ì»´íŒŒì¼ ì‹œì ì— ë¬¸ë²• ì˜¤ë¥˜ë¥¼ ì°¾ì„ ìˆ˜ ìˆë‹¤.
- **ì‹¤ë¬´ì—ì„œ ì‚¬ìš©ì„ ê¶Œì¥**í•œë‹¤.

### QueryDSL ì‚¬ìš© ì˜ˆ

```java
// QueryDSL ì‚¬ìš©ì„ ìœ„í•´ JPAFactoryQuery ê°ì²´ ìƒì„±
JPAFactoryQuery query = new JPAQueryFactory(entityManager);
QMember m = QMember.member;

// select m from Member m where m.age > 18
List<Member> list = query.selectFrom(m)
                          .where(m.age.gt(18))
                          .orderBy(m.name.desc())
                          .fetch();
```

QueryDSLì€ ì˜¤í”ˆì†ŒìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œì¨ JPQL ë™ì  ì¿¼ë¦¬ ìƒì„±ì„ ì‰½ê²Œí•  ìˆ˜ ìˆê³  ë©”ì„œë“œ ë˜í•œ ë³µì¡í•˜ì§€ ì•Šê³  ê°„ë‹¨í•˜ë‹¤ëŠ” ì¥ì ì´ ìˆë‹¤.

## Native SQL ì†Œê°œ

Native SQLì€ JPQLë¡œ í•´ê²°í•  ìˆ˜ ì—†ëŠ”, ì¦‰ íŠ¹ì • DBì— ì¢…ì†ëœ ê¸°ëŠ¥(í‚¤ì›Œë“œ)ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¿¼ë¦¬ë¥¼ êµ¬ì„±í•´ì•¼í•  ë•Œ ìœ ìš©í•˜ë‹¤.
(Oracle - CONNECT BY, íŠ¹ì • DBì˜ SQL íŒíŠ¸ ë“±)

### Native SQL ì‚¬ìš© ì˜ˆ

ì‚¬ìš© ë°©ë²•ì€ ê°„ë‹¨í•˜ë‹¤. `entityManager`ê°€ ì œê³µí•˜ëŠ” `createNativeQuery()`ë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ ì´ë¦„ì´ í™ê¸¸ë™ì´ë©° ë‚˜ì´ê°€ 18ì‚´ ì´ìƒì¸ Memberë¥¼ ì¡°íšŒí•˜ëŠ” ì¿¼ë¦¬ë¥¼ ì‘ì„±í•  ë•Œ ë‹¤ìŒê³¼ ê°™ë‹¤.

```java
// ì‹¤ì œ SQL ì¿¼ë¦¬ ì‘ì„±í•˜ë“¯ ì‘ì„±
String sql = "select * from Member where name = 'í™ê¸¸ë™' and age >= 18";

List<Member> list = entityManager.createNativeQuery(sql, Member.class).getResultList();
```

ì‚¬ìš©ì‹œ íŠ¹ë³„í•œ ì œí•œì€ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©° ì‹¤ì œ SQL ì¿¼ë¦¬ë¥¼ ì‘ì„±í•˜ë“¯ ì‘ì„±í•˜ë©´ ëœë‹¤.

## JDBC API ì§ì ‘ì‚¬ìš©, MyBatis, SpringJdbcTemplate ë“±

JPAë¥¼ ì‚¬ìš©í•˜ë©´ì„œ JDBC ì»¤ë„¥ì…˜ì„ ì§ì ‘ ì‚¬ìš©í•˜ê±°ë‚˜, SpringJdbcTemplate, MyBatis ë“±ì„ í•¨ê»˜ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

`createQuery()`, `createNativeQuery()`ë¥¼ í†µí•´ JPQL ì¿¼ë¦¬ë¥¼ ìˆ˜í–‰í•˜ë©´ **ë‚´ë¶€ì ìœ¼ë¡œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ê°€ ìë™ìœ¼ë¡œ flushë¥¼ ìˆ˜í–‰**í•˜ì—¬ ìµœì‹  ë°˜ì˜ëœ ë‚´ìš©ì„ ì¡°íšŒí•œë‹¤. (ê¸°ë³¸ ì „ëµì´ auto flushë¡œ ì„¤ì • ë˜ì–´ìˆìŒ)

ê·¸ëŸ¬ë‚˜ JDBC APIì˜ ê²½ìš° ë³„ë„ë¡œ flushë¥¼ ìˆ˜í–‰í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— **ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ì ì ˆí•œ ì‹œì ì— ê°•ì œë¡œ flush** í•´ì•¼í•œë‹¤.

```java
Member member = new Member();
member.setName("member1");
entityManager.persist(member);

Connection conn = DriverManager.getConnection(url, user, pw);
Statement st = conn.createStatement();

// ê²°ê³¼ 0 (flushê°€ ì¼ì–´ë‚˜ì§€ ì•Šì•˜ìœ¼ë¯€ë¡œ ìœ„ì—ì„œ ì¶”ê°€í•œ Memberê°€ ë°˜ì˜ë˜ì§€ì•ŠìŒ)
ResultSet rs = st.executeQuery("select * from Member");
```

ë‹¤ìŒê³¼ ê°™ì´ flushë¥¼ ìˆ˜ë™ìœ¼ë¡œ ìˆ˜í–‰í•´ì•¼ í•œë‹¤.

```java
Member member = new Member();
member.setName("member1");
entityManager.persist(member);

entityManager.flush(); // flushë¥¼ ìˆ˜ë™ìœ¼ë¡œ ìˆ˜í–‰

Connection conn = DriverManager.getConnection(url, user, pw);
Statement st = conn.createStatement();

// ê²°ê³¼ 1
ResultSet rs = st.executeQuery("select * from Member");
```

## ğŸ“£ Reference
ë³¸ í¬ìŠ¤íŒ…ì€ ê¹€ì˜í•œë‹˜ì˜ ê°•ì˜ë¥¼ ë“£ê³  ìŠ¤ìŠ¤ë¡œ ì •ë¦¬ ë° ì¶”ê°€í•œ ë‚´ìš©ì…ë‹ˆë‹¤.

[ìë°” ORM í‘œì¤€ JPA í”„ë¡œê·¸ë˜ë° - ê¸°ë³¸í¸](https://www.inflearn.com/course/ORM-JPA-Basic/dashboard)<br/>
