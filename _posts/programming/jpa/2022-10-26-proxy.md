---
title: "ì—°ê´€ê´€ê³„ ê´€ë¦¬ - í”„ë¡ì‹œ (ì‘ì„±ì¤‘)"
categories: 
    - jpa
date: 2022-10-26
last_modified_at: 2022-10-26
# tags:
#     - íƒœê·¸1
#     - íƒœê·¸2
#     - tag_test..
toc: true
toc_sticky: true
# toc_label: "MYSELF"
excerpt: "í”„ë¡ì‹œì— ëŒ€í•´ ì•Œì•„ë³´ì."
---

## í”„ë¡ì‹œë¥¼ ì‚¬ìš©í•´ì•¼í•˜ëŠ” ì´ìœ 

(ì´ë¯¸ì§€)

Memberì™€ Teamì´ë¼ëŠ” í…Œì´ë¸”ì´ ìˆë‹¤ê³  ê°€ì •í•˜ì. (MemberëŠ” ìì‹ ì´ ì†Œì†ë˜ì–´ ìˆëŠ” Teamì´ ìˆë‹¤. = N:1ì˜ ê´€ê³„)

ì´ë•Œ Memberì™€ Team ê°ì²´ë¥¼ ì¶œë ¥í•˜ëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ìˆë‹¤ê³  í•  ë•Œ ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.

```java
private static void printMemberAndTeam(Member member){
    System.out.println("username = "+ member.getUsername());
    System.out.println("username = "+ member.getTeam().getName());
}

...

Member member = entityManager.find(Member.class, 1L); // memberì™€ team ì¡°íšŒ join ì¿¼ë¦¬ ìˆ˜í–‰
printMemberAndTeam(member);
```

JPA ì—ì„œëŠ” memberì˜ ì´ë¦„ê³¼ team ì´ë¦„ì„ êµ¬í•˜ê¸° ìœ„í•´ **join ì¿¼ë¦¬ë¥¼ ë‚ ë¦¬ê²Œ ëœë‹¤.**

`printMemberAndTeam` ë©”ì„œë“œë¥¼ ìˆ˜í–‰í•˜ê¸°ì—” ì í•©í•œ ì¿¼ë¦¬ì˜€ì§€ë§Œ **Memberì˜ ì •ë³´ë§Œ í•„ìš”í•œ ê²½ìš°ì—ëŠ” join ì¿¼ë¦¬ëŠ” ì˜¤íˆë ¤ ë‚­ë¹„**ê°€ ë  ê²ƒì´ë‹¤.

ì–´ë–»ê²Œí•˜ë©´ ë•Œì— ë”°ë¼ ë‚­ë¹„ ì—†ì´ ìµœì í™”ë¥¼ í•  ìˆ˜ ìˆì„ê¹Œ?

JPAì—ì„œëŠ” í”„ë¡ì‹œì™€ ì§€ì—°ë¡œë”©ì´ë¼ëŠ” ê°œë…ìœ¼ë¡œ í•´ê²°í•  ìˆ˜ ìˆë‹¤.

## í”„ë¡ì‹œ

(ì´ë¯¸ì§€)

`EntityManager`ëŠ” proxyë¥¼ í™œìš©í•œ ê°ì²´ ì¡°íšŒë¥¼ ìœ„í•´ `getReference()` ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.

- entityManager.find()
  - ë°ì´í„°ë² ì´ìŠ¤ë¥¼ í†µí•´ì„œ ì‹¤ì œ ì—”í‹°í‹° ê°ì²´ë¥¼ ì¡°íšŒí•œë‹¤.

- entityManager.getReference()
  - ë°ì´í„°ë² ì´ìŠ¤ ì¡°íšŒë¥¼ ë¯¸ë£¨ëŠ” ê°€ì§œ(í”„ë¡ì‹œ) ì—”í‹°í‹° ê°ì²´ë¥¼ ì¡°íšŒí•œë‹¤.
  - ì¦‰, ë°ì´í„°ë² ì´ìŠ¤ë¡œ ì¿¼ë¦¬ë¥¼ ë‚ ë¦¬ì§€ ì•Šê³  ê°ì²´ ì¡°íšŒê°€ ê°€ëŠ¥í•˜ë‹¤.



```java

// jpaê°€ memberì™€ teamì„ í•œë²ˆì— ê°€ì ¸ì˜¤ê¸° ìœ„í•´ join ì¿¼ë¦¬ë¥¼ ë‚ ë¦°ë‹¤.
Member findMember = entityManager.find(Member.class, 1L);

// jpaê°€ ê°ì²´ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì‹œì ì—ëŠ” ì¿¼ë¦¬ë¥¼ ë‚ ë¦¬ì§€ ì•Šê³  "ì‹¤ì œë¡œ ì‚¬ìš©í•˜ëŠ” ì‹œì "ì— ì¿¼ë¦¬ë¥¼ ë‚ ë¦°ë‹¤.
Member findMember = entityManager.getReference(Member.class, 1L);

System.out.println("findMember.id = "+ findMember.getId());
System.out.println("findMember.name = "+ findMember.getUsername());
```

## ğŸ“£ Reference
ë³¸ í¬ìŠ¤íŒ…ì€ ê¹€ì˜í•œë‹˜ì˜ ê°•ì˜ë¥¼ ë“£ê³  ìŠ¤ìŠ¤ë¡œ ì •ë¦¬ ë° ì¶”ê°€í•œ ë‚´ìš©ì…ë‹ˆë‹¤.

[ìë°” ORM í‘œì¤€ JPA í”„ë¡œê·¸ë˜ë° - ê¸°ë³¸í¸](https://www.inflearn.com/course/ORM-JPA-Basic/dashboard)<br/>
